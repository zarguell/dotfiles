# Dotfiles (Codespaces + zsh)

Personal dotfiles for GitHub Codespaces (Ubuntu) and other shells.

This repo is optimized for:
- zsh as the default shell
- a fast, modern CLI toolkit (bat/eza/rg/fd/zoxide/etc.)
- Powerlevel10k (p10k) prompt
- Rust toolchain via rustup (so cargo-installed CLIs don’t break on old Ubuntu rustc)

## What this repo does in Codespaces

GitHub Codespaces can automatically apply dotfiles from a repository you own. When enabled, Codespaces clones this repo into the codespace and runs `install.sh` (if present + executable). Changes are picked up by *new* codespaces.  
See GitHub’s docs for how to enable this: Settings → Codespaces → Dotfiles → select repo → enable “Automatically install dotfiles”.  
[GitHub Docs: Personalizing GitHub Codespaces for your account](https://docs.github.com/en/codespaces/setting-your-user-preferences/personalizing-github-codespaces-for-your-account)

## Files

- `install.sh`  
  Installs packages (apt), installs Rust via rustup, installs modern Rust CLIs via `cargo install` when needed, clones Powerlevel10k, and sets default shell to zsh.

- `.zshrc`  
  Loads Powerlevel10k, enables strong history behavior, sets safe “modern defaults” aliases, and initializes tools like zoxide.

- `.p10k.zsh` (generated)
  Prompt configuration generated by `p10k configure` (committed so all new codespaces get the same prompt).

## One-time setup (Codespaces)

1. Commit + push this repo.
2. Enable it in GitHub: Settings → Codespaces → Dotfiles → select this repo → enable auto-install.
3. Create a NEW codespace (or “Rebuild Container”).
4. Open a new terminal and confirm you’re in zsh:
   - `echo $SHELL`
   - `zsh --version`

## Powerlevel10k setup

In a zsh terminal:
- `p10k configure`

This writes `~/.p10k.zsh`. Commit that file into this repo so the prompt is consistent everywhere.

### VS Code terminal font (important)

To render p10k icons correctly in VS Code, set:

- `terminal.integrated.fontFamily` = `MesloLGS NF`

Powerlevel10k documents Meslo Nerd Font as a good default for terminal icon rendering.  
https://github.com/romkatv/powerlevel10k/blob/master/font.md

## Troubleshooting

### Dotfiles didn’t apply
- Confirm `install.sh` is executable (`chmod +x install.sh` and commit it).
- Dotfiles apply to new codespaces; for an existing one, rebuild/recreate.
- In Codespaces, dotfiles are typically cloned under:
  `/workspaces/.codespaces/.persistedshare/dotfiles`

### `p10k: command not found`
Powerlevel10k must be sourced in the current zsh session. Ensure `.zshrc` contains:
- `source ~/.local/share/powerlevel10k/powerlevel10k.zsh-theme`

Then restart zsh:
- `exec zsh`
